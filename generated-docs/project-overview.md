Last updated: 2025-12-02

# Project Overview

## プロジェクト概要
- GitHub Pages用の`_config.yml`ファイルを効率的に生成するPython製CLIツールです。
- TOML形式の設定テンプレートを用いて、複数のローカルリポジトリに対して`_config.yml`を一括で自動生成します。
- リポジトリの自動検出、設定の検証、エラーハンドリング機能を備え、Jekyll環境の構築を効率化します。

## 技術スタック
- フロントエンド: なし (CLIツールのため)
- 音楽・オーディオ: なし
- 開発ツール:
    - **Python**: プロジェクトの主要なプログラミング言語 (バージョン 3.9以上)。
    - **tomli**: TOML形式の設定ファイルを読み込むためのPythonライブラリ。
    - **Git**: ソースコードのバージョン管理に使用。
- テスト:
    - **pytest**: Python用のテストフレームワークで、コードの機能テストを記述・実行するために使用されます。
- ビルドツール: なし (スクリプト実行型のCLIツールのため、特定のビルドツールは使用していません)
- 言語機能:
    - **Python 3.9+**: 本プロジェクトの動作に必須のPythonバージョンで、新しい言語機能や構文が利用されています。
    - **型ヒント**: コードの可読性と堅牢性を高めるため、Pythonの型ヒント機能が積極的に使用されています。
- 自動化・CI/CD: なし (プロジェクト情報に明示的な記述はありません)
- 開発標準:
    - **Ruff**: 高速なPythonリンターで、コード品質の維持と統一されたコーディングスタイルを強制するために使用されます。

## ファイル階層ツリー
```
cat-jekyll-config-generator/
├── .editorconfig
├── .gitignore
├── .vscode/
│   └── settings.json
├── LICENSE
├── README.md
├── _config.yml
├── examples/
│   └── config_example.toml
├── generated-docs/
├── googled947dc864c270e07.html
├── pytest.ini
├── ruff.toml
├── src/
│   └── cat_jekll_config_generator.py
└── tests/
    ├── __init__.py
    └── test_cat_jekyll_config_generator.py
```

## ファイル詳細説明
- **`.editorconfig`**: 異なるエディタやIDE間で一貫したコーディングスタイル（インデント、改行コードなど）を維持するための設定ファイル。
- **`.gitignore`**: Gitがバージョン管理の対象外とするファイルやディレクトリを指定する設定ファイル。
- **`.vscode/settings.json`**: Visual Studio Codeエディタのワークスペース固有の設定を定義するファイル。
- **`LICENSE`**: 本プロジェクトのライセンス情報（MIT License）が記述されたファイル。
- **`README.md`**: プロジェクトの概要、インストール方法、使用方法、設定の詳細などが記述されたマークダウン形式のドキュメント。
- **`_config.yml`**: Jekyll（GitHub Pages）がサイトの設定を読み込むためのファイルで、本ツールによって各リポジトリに生成されます。
- **`examples/config_example.toml`**: ユーザーが設定ファイルを作成する際の参考となる、TOML形式の設定テンプレートのサンプルファイル。
- **`generated-docs/`**: 本プロジェクトのドキュメントを生成した場合に、それらを格納するためのディレクトリ（現在は空）。
- **`googled947dc864c270e07.html`**: Google Search Consoleなどのウェブサイト所有権確認に使用されるHTML認証ファイル。
- **`pytest.ini`**: pytestテストフレームワークの設定ファイル。
- **`ruff.toml`**: PythonのリンターであるRuffの設定ファイル。コードの品質と一貫性を保つためのルールが記述されています。
- **`src/cat_jekyll_config_generator.py`**: 本プロジェクトのメインプログラムファイル。CLIツールのコアロジック（設定ファイルの読み込み、リポジトリ検出、`_config.yml`の生成と書き込み）が実装されています。
- **`tests/__init__.py`**: `tests`ディレクトリがPythonパッケージであることを示す空ファイル。
- **`tests/test_cat_jekyll_config_generator.py`**: `src/cat_jekyll_config_generator.py`の機能に関するテストコードが記述されたファイル。

## 関数詳細説明
本プロジェクトは、`src/cat_jekyll_config_generator.py` を中心に、以下の主要な処理を実行する関数群で構成されます（具体的な関数名はコードに依存しますが、役割に基づき説明します）。

- **メイン実行制御関数**:
    - **役割**: プログラムのエントリーポイントとして全体の処理フローを統括します。コマンドライン引数の解析から、設定ファイルの読み込み、リポジトリの検出、各リポジトリへの`_config.yml`生成、エラーハンドリングまでの一連の処理を制御します。
    - **引数**: コマンドライン引数（`--config-filename`など）を内部的に処理します。
    - **戻り値**: 通常、処理の成功/失敗を示すステータスコード。
    - **機能**: プログラムの起動時に一度だけ実行され、他の補助関数を適切な順序で呼び出します。

- **設定ファイル処理関数**:
    - **役割**: TOML形式の設定ファイルを読み込み、その内容をパースし、必要な設定項目が揃っているか検証します。
    - **引数**: 設定ファイルのパス（例: `config_filename: str`）。
    - **戻り値**: パースされ検証済みの設定データ（例: `Dict[str, Any]`）。
    - **機能**: ユーザーが定義したテンプレートやパス、GitHubユーザー名などを読み込み、プログラム内で利用可能な形式に変換します。

- **リポジトリ検出関数**:
    - **役割**: 指定されたベースディレクトリ配下を走査し、GitHub Pagesのリポジトリとして認識すべきディレクトリ（例: `README.md`ファイルが存在するディレクトリ）を自動で特定します。
    - **引数**: リポジトリが格納されている親ディレクトリのパス（例: `base_dir: str`）。
    - **戻り値**: 検出されたリポジトリ名のリスト（例: `list[str]`）。
    - **機能**: `_config.yml`を生成する対象となる各リポジトリを効率的に見つけ出します。

- **`_config.yml`内容生成関数**:
    - **役割**: 検出されたリポジトリの情報と設定テンプレート（TOMLファイル）を基に、個々のリポジトリに対応する`_config.yml`のYAML形式の文字列コンテンツを生成します。
    - **引数**: リポジトリ名（例: `repo_name: str`）、解析済みの全体設定データ（例: `config: Dict[str, Any]`）。
    - **戻り値**: 生成された`_config.yml`のテキスト内容（例: `str`）。
    - **機能**: テンプレート変数（`{repo_name}`, `{description}`など）を実際のリポジトリ固有の値に置き換える処理を行います。

- **ファイル書き込み関数**:
    - **役割**: 生成された`_config.yml`のコンテンツを指定されたリポジトリディレクトリにファイルとして書き込みます。
    - **引数**: `_config.yml`を保存するリポジトリのパス（例: `repo_path: str`）、書き込むコンテンツ（例: `content: str`）。
    - **戻り値**: なし。
    - **機能**: 既存のファイルを上書きするか、新しいファイルとして作成します。

## 関数呼び出し階層ツリー
```
関数呼び出し階層を分析できませんでした

---
Generated at: 2025-12-02 07:02:02 JST
